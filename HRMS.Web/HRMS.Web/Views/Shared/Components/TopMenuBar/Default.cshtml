    @inject HRMS.Web.BusinessLayer.IBusinessLayer _businessLayer
    @inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@using HRMS.Models.Common
@model HRMS.Models.FormPermission.FormPermissionListViewModel
    @using Microsoft.AspNetCore.Http
@{
	var LoginRole = Convert.ToInt64(this.Context.Session.GetString(Constants.RoleID));
	var Logo = this.HttpContextAccessor.HttpContext.Session.GetString(Constants.CompanyLogo);
	var EmployeeNumber = this.HttpContextAccessor.HttpContext.Session.GetString(Constants.EmployeeNumber);
	var allowedFormIds = Enumerable.Range(2, 19).ToList(); // 2 to 18

}
@if (Model.FormPermissionList.Any(x =>
					allowedFormIds.Contains((int)x.FormID.Value) &&
			x.IsFormPermissions == true &&
			x.FormLevel == 2))
{
	<nav role="navigation" class="main-menu">
		<ul class="nav-list">
			@if (Model.FormPermissionList.Where(x => x.FormID == 10 && x.IsFormPermissions == true && x.FormLevel == 2).Count() > 0)
			{
				<li class="nav-list__item"><a class='nav-link' asp-area="@(HRMS.Models.Common.Constants.ManageAdmin)" asp-controller="DashBoard" asp-action="Index">Dashboard</a></li>
			}
			@if (Model.FormPermissionList.Where(x => x.FormID == 18 && x.IsFormPermissions == true && x.FormLevel == 2).Count() > 0)
			{
				<li class="nav-list__item"><a class='nav-link' asp-area="@(HRMS.Models.Common.Constants.ManageEmployee)" asp-controller="MyInfo" asp-action="Support">Support</a></li>

			}
			@if (Model.FormPermissionList.Where(x => x.FormID == 11 && x.IsFormPermissions == true && x.FormLevel == 2).Count() > 0)
			{
				<li class="nav-list__item submenu--triggers"><a class='nav-link' asp-area="admin" asp-controller="Template" asp-action="TemplateListing">Templates </a></li>
			}

			@if (Model.FormPermissionList.Where(x => x.FormID == 12 && x.IsFormPermissions == true && x.FormLevel == 2).Count() > 0)
			{
				<li class="nav-list__item"><a class='nav-link' asp-area="admin" asp-controller="LeavePolicy" asp-action="LeavePolicyListing">Leave Policy</a></li>
			}
			@if (Model.FormPermissionList.Where(x => x.FormID == 13 && x.IsFormPermissions == true && x.FormLevel == 2).Count() > 0)
			{
				<li class="nav-list__item"><a class='nav-link' asp-area="admin" asp-controller="Holiday" asp-action="HolidayListing">Holidays</a></li>
			}
			@if (Model.FormPermissionList.Where(x => x.FormID == 14 && x.IsFormPermissions == true && x.FormLevel == 2).Count() > 0)
			{
				<li class="nav-list__item"><a class='nav-link' asp-area="admin" asp-controller="LeavePolicy" asp-action="LeavePolicyDetailsListing">Add Policies </a></li>
			}
			@if (Model.FormPermissionList.Where(x => x.FormID == 21 && x.IsFormPermissions == true && x.FormLevel == 2).Count() > 0)
			{
				<li class="nav-list__item"><a class='nav-link' asp-area="employee" asp-controller="MyInfo" asp-action="PolicyCategoryDetails"> Policies </a></li>
			}

			@if (Model.FormPermissionList.Where(x => x.FormID == 15 && x.IsFormPermissions == true && x.FormLevel == 2).Count() > 0)
			{
				<li class="nav-list__item"><a class='nav-link' asp-area="admin" asp-controller="LeavePolicy" asp-action="WhatshappeningListing">What'sHappening</a></li>
			}
		</ul>
	</nav>
}
