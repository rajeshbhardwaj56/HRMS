@using HRMS.Models.Employee;
@model EmployeeModel
@{
    int Index = 0;
}

<div class="table-responsive">
    <table class="table table-striped body-text dataTable no-footer">
        <thead>
            <tr>
                <th>SNo</th>
                <th>Name</th>
                <th>Relationship</th>
                <th>Age</th>
                <th>if employed, perticulars</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>

            @{
                int index = 1;
            }
            @foreach (var familyDetail in Model.FamilyDetails)
            {

                var delete = (index.ToString()) + "Delete";


                <tr id="@(delete)">
                    <td>
                        @(index).
                    </td>
                    <td>

                        @Html.HiddenFor(m => m.FamilyDetails[Index].EmployeesFamilyDetailID)
                        @Html.TextBoxFor(a => a.FamilyDetails[Index].FamilyName, new { @class = "form-control FamilyName", @required = "required" })

                    </td>

                    <td>
                        @Html.TextBoxFor(a => a.FamilyDetails[Index].Relationship, new { @class = "form-control", @required = "required" })


                    </td>

                    <td>

                        @Html.TextBoxFor(a => a.FamilyDetails[Index].Age, new { @class = "form-control", @required = "required" })


                    </td>

                    <td>
                        @Html.TextBoxFor(a => a.FamilyDetails[Index].Details, new { @class = "form-control" })

                    </td>

                    <td>
                        <a onclick="deleteFamilyDetails('@(delete)')"><img style="width:20px; height:auto;" src="~/assets/img/delete.png" /></a>
                    </td>
                </tr>
                Index++;
                index++;
            }            
        </tbody>
    </table>
</div>

<script type="text/javascript">
    function deleteFamilyDetails(Id) {
        $("#" + Id).remove();
        AddNewFamily(true);
    }
</script>